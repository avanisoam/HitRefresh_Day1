!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/FP/Assets/Cache/output/",n(n.s=0)}({0:function(e,t,n){n("5aef2a6e3fd48bb06a74"),e.exports=n("4cec4588e60f51b7154c")},"4cec4588e60f51b7154c":function(e,t,n){"use strict";n.r(t);var r,o=n("c27cdd1b7c76313bdfab");function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c="error",a="info",u="warning",l="debug",f=l,s="message",p="logLevel",y="timestamp",b="error",v="eventType",h="timeSinceOrigin",g="includeContext",d=(i(r={},l,0),i(r,a,1),i(r,u,3),i(r,c,4),i(r,"critical",5),r),m="message",O="logObject",w="timing",j="error";function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var T=0;var S="__private_"+T+++"_"+"minimumLogLevel",E=function(){function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,S,{writable:!0,value:void 0}),_(this,S)[S]=null!==(n=d[t])&&void 0!==n?n:d.debug}var t,n,r;return t=e,(n=[{key:"logMessage",value:function(e){this.isAcceptedLogLevel(e)&&this.logMessageImpl(e)}},{key:"logMessageImpl",value:function(e){}},{key:"logObject",value:function(e){this.isAcceptedLogLevel(e)&&this.logObjectImpl(e)}},{key:"logObjectImpl",value:function(e){}},{key:"logTiming",value:function(e){this.isAcceptedLogLevel(e)&&this.logTimingImpl(e)}},{key:"logTimingImpl",value:function(e){}},{key:"logError",value:function(e){this.isAcceptedLogLevel(e)&&this.logErrorImpl(e)}},{key:"logErrorImpl",value:function(e){}},{key:"isAcceptedLogLevel",value:function(e){var t=e.logLevel;return d[t]>=_(this,S)[S]}}])&&P(t.prototype,n),r&&P(t,r),e}();function k(){var e=Object(o.a)();return e&&e.performance&&e.performance.now?e.performance.now():0}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var x=0;var C=function(e){return"__private_"+x+++"_"+e}("startTimingsMap"),I=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,C,{writable:!0,value:{}})}var t,n,r;return t=e,(n=[{key:"getTimingLogObject",value:function(e,t){var n,r,o,i,c,a;t=null!==(n=t)&&void 0!==n?n:{};var u=Date.now(),l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){L(e,t,n[t])}))}return e}({},t),f=null!==(r=null!==(o=null!==(i=l.startTime)&&void 0!==i?i:A(this,C)[C][e])&&void 0!==o?o:l.timestamp)&&void 0!==r?r:u,s=null!==(c=null!==(a=l.endTime)&&void 0!==a?a:t.timestamp)&&void 0!==c?c:u;return f===s||l.duration||(l.startTime=f,l.duration=s-f),l.timeSinceOrigin||(l.timeSinceOrigin=k()),l.timestamp||(l.timestamp=f),A(this,C)[C][e]=f,l}}])&&R(t.prototype,n),r&&R(t,r),e}();function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function F(e){var t,n=e.error,r=D(e,["error"]);return n?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){M(e,t,n[t])}))}return e}({},r,(M(t={},"errorMessage",n.message),M(t,"errorStack",n.stack),t)):r}function N(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){B(e,t,n[t])}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var K=0;function G(e){return"__private_"+K+++"_"+e}var J=G("loggingAgents"),X=G("maxLogLimit"),z=G("logCount"),Q=G("contextIdentifiers"),W=G("logTimingMeasurements"),$=G("setLogObjectDefaults"),Y=G("addContextToLogObject"),Z=G("isLogRelevant"),ee=G("isValidMessage"),te=G("isValidLogObject"),ne=G("isValidTimingKey"),re=G("isValidError"),oe=function(){function e(t,n){var r,o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};H(this,e),Object.defineProperty(this,J,{writable:!0,value:void 0}),Object.defineProperty(this,X,{writable:!0,value:void 0}),Object.defineProperty(this,z,{writable:!0,value:0}),Object.defineProperty(this,Q,{writable:!0,value:void 0}),Object.defineProperty(this,W,{writable:!0,value:void 0}),Object.defineProperty(this,$,{writable:!0,value:function(e,t){var n;return V({},(B(n={},y,Date.now()),B(n,h,k()),B(n,p,f),n),t,e)}}),Object.defineProperty(this,Y,{writable:!0,value:function(e){var t=e.includeContext,n=N(e,["includeContext"]);return!0===t?V({},U(o,Q)[Q],n):n}}),Object.defineProperty(this,Z,{writable:!0,value:function(e){return U(o,z)[z]++<U(o,X)[X]||e.logLevel===c}}),Object.defineProperty(this,ee,{writable:!0,value:function(e){return e&&isNaN(e)}}),Object.defineProperty(this,te,{writable:!0,value:function(e){return e&&Object.keys(e).length}}),Object.defineProperty(this,ne,{writable:!0,value:function(e){return U(o,ee)[ee](e)}}),Object.defineProperty(this,re,{writable:!0,value:function(e,t,n){return t||U(o,ee)[ee](e)||U(o,te)[te](n)}}),U(this,W)[W]=new I,U(this,J)[J]=t,U(this,Q)[Q]=i,U(this,X)[X]=null!==(r=null==n?void 0:n.maxLogLimit)&&void 0!==r?r:10}var t,n,r;return t=e,(n=[{key:"logMessage",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(U(this,ee)[ee](e)){var i=U(this,$)[$]((B(t={},s,e),B(t,p,r),B(t,g,o),B(t,v,m),t));U(this,Z)[Z](i)&&U(this,J)[J].forEach((function(e){return e.logMessage(U(n,Y)[Y](i))}))}}},{key:"logObject",value:function(e){var t=this;if(U(this,te)[te](e)){var n=F(U(this,$)[$](e,B({},v,O)));U(this,Z)[Z](n)&&U(this,J)[J].forEach((function(e){return e.logObject(U(t,Y)[Y](n))}))}}},{key:"logTiming",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(U(this,ne)[ne](e)){var o=(B(t={},v,w),B(t,s,e),t);r=F(U(this,W)[W].getTimingLogObject(e,U(this,$)[$](r,o))),U(this,Z)[Z](r)&&U(this,J)[J].forEach((function(e){return e.logTiming(U(n,Y)[Y](r))}))}}},{key:"logError",value:function(e,t,n){var r,o=this;if(U(this,re)[re](e,t,n)){var i=(B(r={},v,j),B(r,p,c),r);t&&(i.error=t),e&&(i.message=e),n=U(this,$)[$](i,n),U(this,Z)[Z](n)&&U(this,J)[J].forEach((function(e){return e.logError(U(o,Y)[Y](n))}))}}}])&&q(t.prototype,n),r&&q(t,r),e}();function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ye(e);if(t){var o=ye(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return se(this,n)}}function se(e,t){return!t||"object"!==ie(t)&&"function"!=typeof t?pe(e):t}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var ve=0;function he(e){return"__private_"+ve+++"_"+e}var ge=he("logFunctions"),de=he("defaultLogFunction"),me=he("performanceMeasure"),Oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(f,e);var t,n,r,i=fe(f);function f(e){var t,n,r,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),s=i.call(this),Object.defineProperty(pe(s),ge,{writable:!0,value:void 0}),Object.defineProperty(pe(s),de,{writable:!0,value:void 0}),Object.defineProperty(pe(s),me,{writable:!0,value:void 0}),s.logObjectImpl=s.logMessageImpl,s.logErrorImpl=s.logMessageImpl,be(pe(s),ge)[ge]=(ae(t={},l,e.debug),ae(t,a,e.info),ae(t,u,e.warn),ae(t,c,e.error),t),be(pe(s),de)[de]=e.log,be(pe(s),me)[me]=null===(n=Object(o.a)())||void 0===n||null===(r=n.performance)||void 0===r?void 0:r.measure,s}return t=f,(n=[{key:"logMessageImpl",value:function(e){var t,n=e.message,r=e.logLevel,o=ce(e,["message","logLevel"]);(null!==(t=be(this,ge)[ge][r])&&void 0!==t?t:be(this,de)[de])(n,o)}},{key:"logTimingImpl",value:function(e){if(be(this,me)[me]){var t,n,r=e.name,o=e.message,i=e.startTime,c=e.timestamp,a=e.endTime,u=null!==(t=null!=i?i:c)&&void 0!==t?t:a,l=null!=a?a:c;l&&u!==l&&(n=l);var f=null!=r?r:o;be(this,me)[me](f,u,n)}this.logMessageImpl(e)}},{key:"isAcceptedLogLevel",value:function(){return!0}}])&&ue(t.prototype,n),r&&ue(t,r),f}(E),we="POST",je="timer",Pe="timeWithoutActivity",_e="maxItems",Te="explicit";function Se(e){return function(e){if(Array.isArray(e))return Ee(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ee(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Ae=0;function xe(e){return"__private_"+Ae+++"_"+e}var Ce=xe("buffer"),Ie=xe("dontFlushBefore"),Me=xe("timerId"),De=xe("flushIterationCount"),Fe=xe("updateForFlush"),Ne=xe("flushAfterQuiteTime"),Ve=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;ke(this,e),Object.defineProperty(this,Ce,{writable:!0,value:[]}),Object.defineProperty(this,Ie,{writable:!0,value:null}),Object.defineProperty(this,Me,{writable:!0,value:null}),Object.defineProperty(this,De,{writable:!0,value:0}),this.flush=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te;Re(n,Me)[Me]&&clearTimeout(Re(n,Me)[Me]),Re(n,Me)[Me]=null,Re(n,Ce)[Ce].length&&n.flushCallback(Se(Re(n,Ce)[Ce]),e,++Re(n,De)[De]),Re(n,Ce)[Ce].length=0},Object.defineProperty(this,Fe,{writable:!0,value:function(){n.quiteTimeBeforeSend&&(Re(n,Ie)[Ie]=Date.now()+n.quiteTimeBeforeSend),n.maxItems&&Re(n,Ce)[Ce].length>=n.maxItems?n.flush(_e):Re(n,Me)[Me]||!n.quiteTimeBeforeSend&&!n.bufferingTime||(Re(n,Me)[Me]=setTimeout(Re(n,Ne)[Ne],n.quiteTimeBeforeSend||n.bufferingTime))}}),Object.defineProperty(this,Ne,{writable:!0,value:function(){var e=Date.now();Re(n,Ie)[Ie]&&Re(n,Ie)[Ie]>e?Re(n,Me)[Me]=setTimeout(Re(n,Ne)[Ne],Re(n,Ie)[Ie]-e):n.flush(n.quiteTimeBeforeSend?Pe:je)}}),this.flushCallback=t,this.bufferingTime=r,this.maxItems=o,this.quiteTimeBeforeSend=i,Re(this,De)[De]=0,this.registerShutdownListener()}var t,n,r;return t=e,(n=[{key:"add",value:function(e){Re(this,Ce)[Ce].push(e),Re(this,Fe)[Fe]()}},{key:"addMultiple",value:function(e){var t;(t=Re(this,Ce)[Ce]).push.apply(t,Se(e)),Re(this,Fe)[Fe]()}},{key:"registerShutdownListener",value:function(){}}])&&Le(t.prototype,n),r&&Le(t,r),e}();function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var He=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=[]}var t,n,r;return t=e,(n=[{key:"addEvent",value:function(e,t,n){var r=this;if(e&&e.addEventListener&&t&&"function"==typeof n)return this.performPushAndAdd(e,t,n),function(){r.removeEvent(e,t,n)}}},{key:"removeEvent",value:function(e,t,n){e&&e.removeEventListener&&t&&"function"==typeof n&&(e.removeEventListener(t,n),this.container=this.container.filter((function(r){return r.element!==e&&r.eventName!==t&&r.eventFn!==n})))}},{key:"addMultipleEvents",value:function(e,t,n){if(e&&e.addEventListener&&t&&"function"==typeof n)for(var r=0,o=t.length;r<o;r++){var i=t[r];this.performPushAndAdd(e,i,n)}}},{key:"performPushAndAdd",value:function(e,t,n){this.container.push({element:e,eventName:t,eventFn:n}),e.addEventListener(t,n)}},{key:"destroy",value:function(){for(var e=0,t=this.container.length;e<t;e++)this.container[e].element.removeEventListener(this.container[e].eventName,this.container[e].eventFn);this.container=[]}}])&&Be(t.prototype,n),r&&Be(t,r),e}();function qe(e){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ge(e,t){return(Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ze(e);if(t){var o=ze(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xe(this,n)}}function Xe(e,t){return!t||"object"!==qe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}(c,e);var t,n,r,i=Je(c);function c(){return Ue(this,c),i.apply(this,arguments)}return t=c,(n=[{key:"registerShutdownListener",value:function(){var e=this;(new He).addEvent(Object(o.a)(),"beforeunload",(function(){return e.flush("unload")}))}}])&&Ke(t.prototype,n),r&&Ke(t,r),c}(Ve),We={"<":"&lt;",">":"&gt;"},$e=/[<>]/g;function Ye(e){return We[e]}function Ze(e){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tt(e,t){return(tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=it(e);if(t){var o=it(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rt(this,n)}}function rt(e,t){return!t||"object"!==Ze(t)&&"function"!=typeof t?ot(e):t}function ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function it(e){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ct(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var at=0;function ut(e){return"__private_"+at+++"_"+e}var lt=ut("reportURL"),ft=ut("browserBufferingAggregator"),st=ut("onBufferFlush"),pt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tt(e,t)}(i,e);var t,n,r,o=nt(i);function i(e,t){var n,r=t.reportURL,c=t.bufferingTime,a=t.maxBufferItems;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n=o.call(this,e),Object.defineProperty(ot(n),lt,{writable:!0,value:void 0}),Object.defineProperty(ot(n),ft,{writable:!0,value:void 0}),n.logObjectImpl=n.logMessageImpl,n.logTimingImpl=n.logMessageImpl,n.logErrorImpl=function(e){return n.logMessageImpl(F(e))},Object.defineProperty(ot(n),st,{writable:!0,value:function(e,t,r){var o,i=new XMLHttpRequest;i.open(we,ct(ot(n),lt)[lt]),i.setRequestHeader("Content-Type","application/json"),i.send((o=JSON.stringify({logs:e,flushReason:null!=t?t:"No JS flush reason",flushIterationCount:r}))&&"string"==typeof o?o.replace($e,Ye):o)}}),ct(ot(n),lt)[lt]=r,ct(ot(n),ft)[ft]=new Qe(ct(ot(n),st)[st],c,a),n}return t=i,(n=[{key:"logMessageImpl",value:function(e){ct(this,ft)[ft].add(e)}}])&&et(t.prototype,n),r&&et(t,r),i}(E);function yt(e){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gt(e,t){return(gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wt(e);if(t){var o=wt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mt(this,n)}}function mt(e,t){return!t||"object"!==yt(t)&&"function"!=typeof t?Ot(e):t}function Ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wt(e){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jt(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Pt=0;var _t=function(e){return"__private_"+Pt+++"_"+e}("newRelic"),Tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gt(e,t)}(i,e);var t,n,r,o=dt(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n=o.call(this,e),Object.defineProperty(Ot(n),_t,{writable:!0,value:void 0}),jt(Ot(n),_t)[_t]=t,n}return t=i,(n=[{key:"logMessageImpl",value:function(e){var t=e.eventType,n=vt(e,["eventType"]),r=null!=t?t:"message";jt(this,_t)[_t].addPageAction(r,n)}},{key:"logObjectImpl",value:function(e){var t=e.eventType,n=vt(e,["eventType"]),r=null!=t?t:"logObject";jt(this,_t)[_t].addPageAction(r,n)}},{key:"logTimingImpl",value:function(e){var t,n=e.eventType,r=vt(e,["eventType"]),o=null!=n?n:"timing";jt(this,_t)[_t].addPageAction(o,r);var i=e.name,c=e.message,a=e.startTime,u=e.timestamp,l=e.endTime,f=vt(e,["name","message","startTime","timestamp","endTime"]);f.start=null!==(t=null!=a?a:u)&&void 0!==t?t:l;var s=null!=l?l:u;s&&f.start!==s&&(f.end=s),f.start===u||s&&u===s||(f.timestamp=u),i&&c?(f.name=i,f.message=c):(i||c)&&(f.name=i||c),jt(this,_t)[_t].addToTrace(f)}},{key:"logErrorImpl",value:function(e){var t=e.error,n=vt(e,["error"]);if(t)jt(this,_t)[_t].noticeError(t,n);else{var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){bt(e,t,n[t])}))}return e}({eventType:"error"},n);this.logObjectImpl(r)}}}])&&ht(t.prototype,n),r&&ht(t,r),i}(E);function St(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){kt(e,t,n[t])}))}return e}function kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lt(){var e,t,n,r,i,c,a,u,l=Object(o.a)();if(l&&!l.clientLogger){var f=l.clientLoggerConfiguration||{};l.clientLogger=(e=Et({},f,{consoleLoggerConfig:Rt(f),endpointLoggerConfig:At(f),newRelicLoggerConfig:xt(f)}),t=e.maxLogLimit,n=e.minimumLogLevel,r=e.contextIdentifiers,i=e.consoleLoggerConfig,c=e.endpointLoggerConfig,a=e.newRelicLoggerConfig,u=[],i&&u.push(new Oe(i.console)),c&&u.push(new pt(n,c)),a&&u.push(new Tt(n,a.newRelic)),new oe(u,{minimumLogLevel:n,maxLogLimit:t},r))}return null==l?void 0:l.clientLogger}function Rt(e){var t,n,r=null===(t=Object(o.a)())||void 0===t?void 0:t.console;return null!=e&&null!==(n=e.consoleLoggerConfig)&&void 0!==n&&n.exposed&&r?{console:r}:void 0}var At=function(e){var t=(null==e?void 0:e.endpointLoggerConfig)||{},n=t.exposed,r=St(t,["exposed"]);return n?Et({reportURL:"/FP/API/ClientLog/client-log.php"},r):void 0};function xt(e){var t,n,r=null===(t=Object(o.a)())||void 0===t?void 0:t.newrelic;return null!=e&&null!==(n=e.newRelicLoggerConfig)&&void 0!==n&&n.exposed&&r?{newRelic:r}:void 0}function Ct(e){return new Promise((function(t){setTimeout(t,e)}))}function It(e){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mt(e,t){return(Mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vt(e);if(t){var o=Vt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ft(this,n)}}function Ft(e,t){return!t||"object"!==It(t)&&"function"!=typeof t?Nt(e):t}function Nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vt(e){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Bt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mt(e,t)}(n,e);var t=Dt(n);function n(e,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),o=t.call(this,r),Error.captureStackTrace&&Error.captureStackTrace(Nt(o),n),o.message=r,o.statusCode=e||500,o}return n}(function(e){function t(){var t=Reflect.construct(e,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}(Error));var Ht="score",qt="checkbox";function Ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Gt=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.waitForReadyState=function(){return new Promise((function(e){return t.recaptchaObject.ready(e)}))},this.execute=function(e){return new Promise((function(n){return t.recaptchaObject.execute(t.siteKeys[Ht],{action:e}).then(n)}))},this.retryExecute=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=t.getGrecaptchaCfg();return t.execute(e).then((function(e){if(!e)throw new Error("unable to obtain access token");return e})).catch((function(c){var u;if(n<=1)throw t.clientLogger.logObject((Ut(u={},s,"[Recaptcha][Score] failed to fetch recaptcha token from google:"),Ut(u,"grecaptcha_cfg_before",!!i),Ut(u,"grecaptcha_cfg_after",!!t.getGrecaptchaCfg()),Ut(u,"count",o),Ut(u,b,c),Ut(u,p,a),Ut(u,g,!0),u)),c;return Ct(r).then((function(){return t.retryExecute(e,n-1,r,o+1)}))}))},this.clientLogger=Lt(),this.initTryCount=0,this.siteKeys=null}var t,n,r;return t=e,r=[{key:"create",value:function(){var t=new e;return t.init().then(t.waitForReadyState).then((function(){return t})).catch((function(e){var n;throw t.clientLogger.logObject((Ut(n={},s,"[Recaptcha] Failed to initialize recaptcha service"),Ut(n,"grecaptcha_exists",!!t.recaptchaObject),Ut(n,"is_enterprise",!!t.isEnterprise),Ut(n,b,e),Ut(n,g,!0),n)),e}))}}],(n=[{key:"getAccessToken",value:function(e){var t=this;return new Promise((function(n,r){var o;e||(t.clientLogger.logObject((Ut(o={},s,"[Recaptcha] cant get access token for recaptcha without ActionName"),Ut(o,"grecaptcha_exists",!!t.recaptchaObject),Ut(o,"is_enterprise",!!t.isEnterprise),Ut(o,g,!0),o)),r(new Error("getAccessToken is missing mandatory argument actionName"))),n()})).then((function(){return t.retryExecute(e)}))}},{key:"validateUserByAction",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.getAccessToken(e).then((function(n){return t.validateAccessToken(n,e)})).then((function(e){return t.validateValidationResponse(e,n)}))}},{key:"render",value:function(e,t){this.recaptchaObject.render(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ut(e,t,n[t])}))}return e}({},t,{sitekey:this.siteKeys[qt]}))}},{key:"reset",value:function(){this.recaptchaObject.reset()}},{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(o.a)(),n=t.recaptchaSiteKeys,r=t.grecaptcha,i=t.location;return new Promise((function(t,o){var c;e.siteKeys=n,e.recaptchaObject=null!==(c=null==r?void 0:r.enterprise)&&void 0!==c?c:r,e.isEnterprise=!(null==r||!r.enterprise),e.locationHref=null==i?void 0:i.href,e.recaptchaObject||o(new Error("Missing google recaptcha")),n||o(new Error("Missing site keys on the window")),t()}))}},{key:"validateAccessToken",value:function(e,t){var n,r,o,i,c=this,u=new FormData;return u.append("recaptchaV3Token",e),u.append("recaptchaV3Action",t),u.append("calledFromUrl",this.locationHref),(n={method:we,url:"/FP/API/Security/ReCaptchaV3/validate-recaptcha-token.php",body:u},r=n.method,o=n.url,i=n.body,new Promise((function(e,t){var n=new XMLHttpRequest;n.open(r,o),n.onload=function(){this.status>=200&&this.status<300?e(n.response):t(new Bt(this.status,n.statusText))},n.onerror=function(){t(new Bt(this.status,n.statusText))},n.send(i)}))).catch((function(e){var t;throw c.clientLogger.logObject((Ut(t={},s,"[Recaptcha] Error trying to send a score token validation"),Ut(t,b,e),Ut(t,p,a),Ut(t,g,!0),t)),e}))}},{key:"validateValidationResponse",value:function(e,t){var n,r;try{if(e){var o,i=JSON.parse(e);i&&"success"===(null==i?void 0:i.status)&&null!=i&&null!==(o=i.data)&&void 0!==o&&o.is_token_valid||(n=new Error("Recaptcha validation failed"))}else n=new Error("Recaptcha validation missing response")}catch(e){n=e}if(n&&(this.clientLogger.logObject((Ut(r={},s,"[Recaptcha] Failed to validate validation response"),Ut(r,"responseString",e),Ut(r,"is_enterprise",!!this.isEnterprise),Ut(r,g,!0),Ut(r,b,n),r)),t))throw n}},{key:"getGrecaptchaCfg",value:function(){return Object(o.a)().___grecaptcha_cfg}}])&&Kt(t.prototype,n),r&&Kt(t,r),e}();function Jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xt=Object(o.a)();Xt.RecaptchaService=Gt,Xt.ReCaptchaV3Consts={RECAPTCHA_V3_TOKEN_PARAM_NAME:"recaptchaV3Token",RECAPTCHA_V3_ACTION_PARAM_NAME:"recaptchaV3Action",ACTIONS:{RECAPTCHA_V3_ACTION_SIGNUP:"signup",RECAPTCHA_V3_ACTION_LOGIN:"login"},RECAPTCHA_V3_VALIDATE_TOKEN_PATH:"/FP/API/Security/ReCaptchaV3/validate-recaptcha-token.php"},window.onRecaptchaLoaded=function(){var e=Xt.recaptchaV3ActionName;e&&Gt.create().then((function(t){return t.validateUserByAction(e,!1)})).catch((function(t){var n;Lt().logObject((Jt(n={},p,u),Jt(n,s,"[Recaptcha] Error on validateUserByAction action: ".concat(e)),Jt(n,b,t),n))}))}},"5aef2a6e3fd48bb06a74":function(e,t,n){n.p=window.AssetManager?window.AssetManager.R_JS("/FP/Assets/Cache/output/"):""},"698d75b157f24ae829cc":function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},c27cdd1b7c76313bdfab:function(e,t,n){"use strict";(function(e){function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return e}n.d(t,"a",(function(){return r}))}).call(this,n("698d75b157f24ae829cc"))}});
//# sourceMappingURL=https://www.myheritage.com/FP/Assets/sourcemaps/RecaptchaInitiator-980ff30cf9585b32ad8cc4e84290af7c.js.map
